; PlatformIO Test Configuration for RuntimeStorage
; RuntimeStorage requires I2C FRAM - needs ESP32 hardware

[env:esp32-basic]
platform = espressif32
board = esp32dev
framework = arduino
build_flags =
    -D UNIT_TEST
    -D USE_MUTEX_PROTECTION=1
    -Wall
    -Wextra
lib_deps =
    throwtheswitch/Unity@^2.5.2
monitor_speed = 115200
test_filter = test_*

[env:esp32-no-mutex]
platform = espressif32
board = esp32dev
framework = arduino
build_flags =
    -D UNIT_TEST
    -D USE_MUTEX_PROTECTION=0
    -Wall
lib_deps =
    throwtheswitch/Unity@^2.5.2
monitor_speed = 115200
test_filter = test_*

[env:esp32s3]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino
build_flags =
    -D UNIT_TEST
    -D USE_MUTEX_PROTECTION=1
    -Wall
lib_deps =
    throwtheswitch/Unity@^2.5.2
monitor_speed = 115200
test_filter = test_*
